<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FundWorld</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
   
</head>
<body>  
    
    <!-- Navigation -->
    <div class="container mt-3">
        <h2>FundWorld</h2>
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link" href="index.html">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Search</a>
    </li>
  </ul>
</div>
   

    <div class="container mt-3">
  <h2>Search a fundraiser by Organizer</h2>

    <div class="mb-3 mt-3">
      <label for="organizer" class="form-label">Fundraiser organizer:</label>
    <select class="form-select" id="select1" name="select1">
      <option value="Ronnie Hong">Ronnie Hong</option>
      <option value="Raven Ziazan">Raven Ziazan</option>
      <option value="Blake Murphy" >Blake Murphy</option>
      <option value="Charlize Sadleir">Charlize Sadleir</option>
      <option value="Henry Diggs">Henry Diggs</option>
    </select>
    </div>
    <input type="button"  value="Search" class="btn btn-primary" onclick="let select1=document.getElementById('select1').value; searchByOrganizer(select1);" >
 
</div>

   <div class="container mt-3">
    <div class="mb-3 mt-3">
        <h2>Search a fundraiser by Organizer</h2>
      <label for="category" class="form-label">Category:</label>
    <select class="form-select" id="select2" name="select1">
      <option value="Education">Education</option>
      <option value="Environment">Environment</option>
      <option value="Medical" >Medical</option>
    </select>
    </div>
    <input type="button"  value="Search" class="btn btn-primary" onclick="let select2=document.getElementById('select2').value; searchByCategory(select2);" >
 
</div>
         <div id="data"></div>

    <script>

function searchByOrganizer(organizer){
            //call GET API to get a list of Concerts
            fetch("http://localhost:3060/api/search/organizer/"+organizer)
              .then(response => response.json())
              .then(data => {

                const dataDiv=document.getElementById('data');
                dataDiv.innerHTML="";

                if(data.length>0){
                  data.forEach( fundraiser => {
                      const newP=document.createElement("p");
                      newP.textContent=`Concert: ${fundraiser.FUNDRAISER_ID}, Location: ${fundraiser.ORGANIZER}`;

                      dataDiv.appendChild(newP);
                  });

                }
                else{
                  dataDiv.textContent="No concert data";
                }
              })
              .catch(error=>{
                console.error("Error fecthing data",error);
                document.getElementById('data').textContent="Failed to load data";
              });
            }


        function searchByCategory(category){
            //call GET API to get a list of Concerts
            fetch("http://localhost:3060/api/search/category/"+category)
              .then(response => response.json())
              .then(data => {

                const dataDiv=document.getElementById('data');
                dataDiv.innerHTML="";

                if(data.length>0){
                  data.forEach( fundraiser => {
                      const newP=document.createElement("p");
                      newP.textContent=`Concert: ${fundraiser.FUNDRAISER_ID}, Location: ${fundraiser.ORGANIZER}`;

                      dataDiv.appendChild(newP);
                  });

                }
                else{
                  dataDiv.textContent="No concert data";
                }
              })
              .catch(error=>{
                console.error("Error fecthing data",error);
                document.getElementById('data').textContent="Failed to load data";
              });
            }


    </script>






















    


    <!-- Footer --> 
    <div class="container-fluid pt-5">
           <p class="text-center">Contact us: FundWorld@org.com</p> 
</div>

</body>
</html>
