<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundraiser Details</title>
</head>
<body>

<h1>Fundraiser Details</h1>
<div id="data">
    <!-- Fundraiser details will be displayed here -->
</div>



 <script>
        //call GET API to get a list of fundraisers
        fetch("http://localhost:3060/api/FUNDRAISER/active") 
          .then(response => response.json())
          .then(data => {
            
            const dataDiv=document.getElementById('data');
            dataDiv.innerHTML="";

            if(data.length>0){
              data.forEach( active => {
                  const newP=document.createElement("p");
                  newP.textContent=`Fundraiser ID: ${active.FUNDRAISER_ID}, Organizer: ${active.ORGANIZER} , Caption: ${active.CAPTION}, Target funding: ${active.TARGET_FUNDING},Currrent funding: ${active.CURRENT_FUNDING}, City: ${active.CITY}, Status:${active.ACTIVE}`;

                  dataDiv.appendChild(newP);
              });

            }
            else{
              dataDiv.textContent="No data";
            }
          })
          .catch(error=>{
            console.error("Error fecthing data",error);
            document.getElementById('data').textContent="Failed to load data";
          });
  
</script> 

</body>
</html>

